"use strict";var g=Object.create;var c=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var R=Object.getOwnPropertyNames;var d=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var y=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of R(e))!f.call(t,o)&&o!==r&&c(t,o,{get:()=>e[o],enumerable:!(n=w(e,o))||n.enumerable});return t};var i=(t,e,r)=>(r=t!=null?g(d(t)):{},y(e||!t||!t.__esModule?c(r,"default",{value:t,enumerable:!0}):r,t));var a=i(require("@actions/core"),1);var m=i(require("@actions/github"),1),p=i(require("@actions/core"),1);async function _(t){let{token:e,templateOwner:r,templateRepo:n,newRepoOwner:o,newRepoName:s,isPrivate:l}=t;return{repository_url:(await m.getOctokit(e).request(`POST /repos/${r}/${n}/generate`,{template_owner:r,template_repo:n,owner:o,name:s,private:l,description:`Repository created from template ${r}/${n}`,headers:{accept:"application/vnd.github.baptiste-preview+json"}})).data.html_url}}async function u(t){try{let{repository_url:e}=await _(t);p.setOutput("repository_url",e),console.log(`Repository created: ${e}`)}catch(e){let r;e instanceof Error?r=e.message:typeof e=="string"?r=e:r=String(e),p.setFailed(r),console.error(e)}}async function P(){let t=a.getInput("token",{required:!0}),e=a.getInput("template_owner",{required:!0}),r=a.getInput("template_repo",{required:!0}),n=a.getInput("new_repo_owner",{required:!0}),o=a.getInput("new_repo_name",{required:!0}),s=a.getInput("private")==="true";await u({token:t,templateOwner:e,templateRepo:r,newRepoOwner:n,newRepoName:o,isPrivate:s})}P();
